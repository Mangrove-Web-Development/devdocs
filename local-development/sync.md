---
title: Sync Site Data
parent: Local Development
nav_order: 4
---

# Sync Site Files and Database

## The Util Container
The simplest way to sync down a site is with the command line tools in the Util container.

**\*Note for Windows users**: Do *not* use the Cygwin command line.
Cygwin does not have system access to run Docker correctly -
use the standard Windows command line for all Docker commands.

To enter the Util container:
```bash
docker-compose run util
```
Your command line is now within the Util container.
To exit the container and return to your normal terminal,
use the `exit` command.

### Downloading Resources
The following `download` commands require the [SFTP config file](sftp-config).
These commands work for both single and Multisite installs.

```sh
download-plugins
download-uploads
download-db
```
### Importing the Database
To work with the database,
your local development services need to be running.

At the root of your project directory (not within the Util container):
```sh
docker-compose up -d
```

#### Single Site WordPress
```sh
import-db
```

#### Multisite
```sh
multisite-import-db
```

You may get this error in WP-Admin:
```
wp_check_site_meta_support_prefilter was called incorrectly.
```
In that case, within the Util container:

```sh
wp network meta set 1 site_meta_supported 1
```

## Alternatives
Syncing a WordPress install is a matter of copying the
theme, plugins, uploaded content and database.
This can be achieved without using the tools in the Util container,
using Util for parts of the process,
or using the Migrate DB Pro plugin.

### Get The Files
On WPEngine,
you can get the source files either from a [backup](/wpengine/backups),
or via [SFTP](/wpengine/file-structure).
Other hosts may have similar backup or SFTP access.

### Plugins
Whichever method you use,
you will likely need to start with the plugins.

The standard plugins directory is found at `wp-content/plugins`.

Copy the contents of the source plugins directory to the destination.
Any files already in the destination directory may be deleted or overwritten.

### Uploads
The uploads directory contains user-uploaded content.
These are usually image and video files uploaded to the
WordPress Media Library, but it may also contain
other file formats or files generated by plugins.

Similar to the plugins directory, the uploads are usually found at
`wp-content/uploads`.
However, it is not always necessary to download the uploads directory
for local development.
See the [Uploads Fallback](/mgtemplate/uploads-fallback) feature provided
by MGTemplate.

Additionally, due to the amount of storage required for these uploaded files,
this directory is commonly offloaded to external hosts,
and the uploaded files may not be found in the usual location on ther server
or in backup archives.
WPEngine uses a system called [LargeFS](/wpengine/largefs) for this.

If you choose to sync the uploads folder contents,
you can copy the uploads into your `wp-content/uploads` directory
or [use the Migrate DB Pro plugin with Media Addon](/wordpress-plugins/migrate-db-pro).

### Theme
The relevant theme is most likely tracked with Git,
so you probably don't need to bother with this.
If you do, copy the theme in the `wp-content/themes` directory.

### Database
On WPEngine, a database file can be found
on the server [via SFTP](/wpengine/file-structure)
or [within the backup archive](/wpengine/backups).

#### Import with Util
To import the database file using the Util container,
rename the file to `wordpress.sql` and place it at the root of your
project directory.
Note, this must be an SQL file.
If your SQL file is gzipped, you need to first unzip the archive.
Then, start the Util container and run the import script:

```sh
docker-compose run util
import-db
```

This will import the `wordpress.sql` file into the local database
and search-replace the domain to your local domain.

#### Import with PHPMyAdmin
PHPMyAdmin for local development can be found at
[localhost:8080](http://localhost:8080).

You will likely need to manually search-replace the domain name if
you use this option.

#### Import with Migrate DB Pro
The Migrate DB Pro plugin can be used to sync databases and
optionally the media files between two installs.
See the [plugin documentation](/wordpress-plugins/migrate-db-pro) for more details.

## Troubleshooting
If you import the database but don't see changes,
you may need to [change the table prefix](/local-development/troubleshooting).

If localhost starts redirecting to the source domain,
you likely need to
[search-replace the database](/local-development/troubleshooting).

## Next
[Compile SASS and JavaScript.](/local-development/css-javascript)
